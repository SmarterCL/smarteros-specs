{
  "version": "1.0",
  "skills": [
    {
      "id": "rut.validate",
      "name": "Validar RUT",
      "description": "Valida formato de RUT chileno según normas SII",
      "category": "core",
      "version": "1.0",
      "status": "stable",
      "endpoint": "/mcp/execute",
      "method": "POST",
      "permissions": ["public"],
      "input_schema": {
        "type": "object",
        "properties": {
          "rut": {
            "type": "string",
            "description": "RUT en formato 12345678-9 o 12.345.678-9",
            "example": "12.345.678-9"
          }
        },
        "required": ["rut"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "valid": {
            "type": "boolean",
            "description": "Indica si el RUT es válido"
          },
          "rut": {
            "type": "string",
            "description": "RUT normalizado"
          },
          "entity_type": {
            "type": "string",
            "enum": ["person", "company"],
            "description": "Tipo de entidad"
          },
          "verification_digit": {
            "type": "string",
            "description": "Dígito verificador"
          },
          "message": {
            "type": "string",
            "description": "Mensaje de validación"
          }
        }
      },
      "example": {
        "request": {
          "skill": "rut.validate",
          "input": {
            "rut": "12.345.678-9"
          }
        },
        "response": {
          "valid": true,
          "rut": "12345678-9",
          "entity_type": "person",
          "verification_digit": "9",
          "message": "RUT válido"
        }
      },
      "events": [
        "rut.validated"
      ]
    },
    {
      "id": "tenant.create",
      "name": "Crear Tenant",
      "description": "Crea un nuevo tenant con aislamiento multi-tenant",
      "category": "core",
      "version": "1.0",
      "status": "stable",
      "endpoint": "/mcp/execute",
      "method": "POST",
      "permissions": ["authenticated"],
      "input_schema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nombre del tenant"
          },
          "rut": {
            "type": "string",
            "description": "RUT de la empresa"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email de contacto"
          },
          "plan": {
            "type": "string",
            "enum": ["demo", "basic", "pro", "enterprise"],
            "default": "demo",
            "description": "Plan de suscripción"
          }
        },
        "required": ["name", "rut"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "tenant_id": {
            "type": "string",
            "description": "ID del tenant creado"
          },
          "name": {
            "type": "string",
            "description": "Nombre del tenant"
          },
          "rut": {
            "type": "string",
            "description": "RUT normalizado"
          },
          "status": {
            "type": "string",
            "enum": ["active", "demo"],
            "description": "Estado del tenant"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Fecha de creación"
          }
        }
      },
      "example": {
        "request": {
          "skill": "tenant.create",
          "input": {
            "name": "Empresa Ejemplo",
            "rut": "76.543.210-1",
            "email": "contacto@empresa.cl",
            "plan": "basic"
          }
        },
        "response": {
          "tenant_id": "tenant_abc123",
          "name": "Empresa Ejemplo",
          "rut": "76543210-1",
          "status": "active",
          "created_at": "2025-12-25T12:00:00Z"
        }
      },
      "events": [
        "tenant.created",
        "tenant.activated"
      ]
    },
    {
      "id": "demo.odoo",
      "name": "Levantar Demo Odoo",
      "description": "Crea una instancia demo de Odoo para tenant",
      "category": "demo",
      "version": "1.0",
      "status": "stable",
      "endpoint": "/mcp/execute",
      "method": "POST",
      "permissions": ["authenticated"],
      "input_schema": {
        "type": "object",
        "properties": {
          "tenant_id": {
            "type": "string",
            "description": "ID del tenant"
          },
          "modules": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Módulos a instalar",
            "default": ["sale", "purchase", "account"]
          },
          "expiry_days": {
            "type": "number",
            "description": "Días de validez de la demo",
            "default": 30
          }
        },
        "required": ["tenant_id"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "demo_id": {
            "type": "string",
            "description": "ID de la instancia demo"
          },
          "url": {
            "type": "string",
            "description": "URL de acceso"
          },
          "username": {
            "type": "string",
            "description": "Usuario administrador"
          },
          "password": {
            "type": "string",
            "description": "Contraseña temporal"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "description": "Fecha de expiración"
          },
          "modules": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Módulos instalados"
          }
        }
      },
      "example": {
        "request": {
          "skill": "demo.odoo",
          "input": {
            "tenant_id": "tenant_abc123",
            "modules": ["sale", "purchase"],
            "expiry_days": 15
          }
        },
        "response": {
          "demo_id": "demo_xyz789",
          "url": "https://demo-abc123.smarteros.cl",
          "username": "admin",
          "password": "temp-pass-123",
          "expires_at": "2026-01-10T12:00:00Z",
          "modules": ["sale", "purchase"]
        }
      },
      "events": [
        "demo.created",
        "demo.expires_soon"
      ]
    }
  ],
  "categories": [
    {
      "id": "core",
      "name": "Core",
      "description": "Skills fundamentales del sistema"
    },
    {
      "id": "demo",
      "name": "Demo",
      "description": "Skills para demostraciones y pruebas"
    },
    {
      "id": "health",
      "name": "Salud",
      "description": "Skills de prevención y salud"
    }
  ],
  "endpoint": "/mcp/execute",
  "methods": ["POST"],
  "authentication": {
    "required": true,
    "schemes": ["bearer", "api_key"],
    "public_skills": ["rut.validate"]
  },
  "response": {
    "success": {
      "status": 200,
      "schema": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "data": {"type": "object"},
          "event": {"type": "string"},
          "timestamp": {"type": "string", "format": "date-time"}
        }
      }
    },
    "error": {
      "status": 400,
      "schema": {
        "type": "object",
        "properties": {
          "error": {"type": "string"},
          "code": {"type": "string"},
          "details": {"type": "object"}
        }
      }
    }
  }
}