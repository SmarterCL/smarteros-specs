# ğŸ”Œ MCP Registry â€” Mapeo de Providers a Agentes

version: "2.0"
description: "Registro centralizado de 25 MCP providers con asignaciÃ³n a agentes tri-agent y polÃ­ticas Vault"
updated: "2025-11-16"

metadata:
  total_providers: 31
  total_tiers: 6
  vault_base_path: "smarteros/mcp/"
  policy_prefix: "mcp-"
  audit_enabled: true

providers:
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  # TIER 1: Core Infrastructure (Always Active)
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  
  github:
    tier: 1
    category: "core"
    primary_agent: "director-gemini"
    secondary_agents: ["writer-copilot", "executor-codex"]
    
    auth:
      method: "vault"
      path: "smarteros/mcp/github"
      keys: ["token", "org", "webhook_secret"]
      vault_policy: "mcp-github-read"
    
    capabilities:
      gemini: 
        read: ["issues", "prs", "commits", "discussions"]
        write: ["comments", "issues", "labels"]
      copilot:
        read: ["code", "diffs", "tree", "blame"]
        write: ["prs", "reviews"]
      codex:
        read: ["releases", "tags"]
        write: ["push_tags", "create_releases", "merge_prs"]
    
    rate_limit:
      limit: "5000/hour"
      burst: 100
      per_agent: true
    
    fallback: "degraded_mode"
    required: true
    health_check:
      endpoint: "https://api.github.com/rate_limit"
      interval: "5m"
  
  vault:
    tier: 1
    category: "core"
    primary_agent: "all"
    
    auth:
      method: "token"
      source: "env:VAULT_TOKEN"
      vault_policy: "self"
    
    capabilities:
      gemini: 
        read: ["smarteros/mcp/*", "smarteros/agents/gemini-*", "smarteros/ssh/read-only"]
        write: ["smarteros/agents/gemini-*", "smarteros/state/*"]
      copilot:
        read: ["smarteros/mcp/github", "smarteros/mcp/supabase", "smarteros/mcp/context7"]
        write: ["smarteros/agents/copilot-*"]
      codex:
        read: ["smarteros/mcp/*", "smarteros/ssh/*"]
        write: ["smarteros/agents/codex-*", "smarteros/state/*"]
    
    rate_limit:
      limit: "unlimited"
      burst: 0
    
    required: true
    health_check:
      command: "vault status"
      expect: "unsealed"
      interval: "1m"
  
    clerk:
      tier: 1
      category: "core"
      primary_agent: "director-gemini"
      secondary_agents: ["writer-copilot", "executor-codex"]
    
      mcp_server:
        name: "clerk-mcp-tools"
        npm_package: "@clerk/mcp-tools"
        repository: "https://github.com/clerk/mcp-tools"
        deployment: "integrated"
        connection: "library"
    
      auth:
        method: "api-key"
        vault_path: "smarteros/mcp/clerk"
        keys: ["clerk_publishable_key", "clerk_secret_key", "clerk_jwt_key", "clerk_webhook_secret"]
        vault_policy: "mcp-clerk-read"
    
      capabilities:
        gemini:
          description: "Orchestrates authentication flows and user onboarding"
          read: ["users_list", "user_get", "session_validate", "oauth_providers"]
          write: []
          use_cases:
            - "User onboarding flow orchestration"
            - "Session validation and renewal"
            - "OAuth provider configuration"
            - "User lifecycle management"
      
        copilot:
          description: "Generates authentication code and documentation"
          read: ["user_get", "oauth_providers"]
          write: []
          use_cases:
            - "Generate Clerk middleware code"
            - "Create authentication components"
            - "Document OAuth flows"
            - "Write user management utilities"
      
        codex:
          description: "Database sync and session validation"
          read: ["user_get", "session_validate", "tokens_validate"]
          write: ["user_create", "user_update"]
          use_cases:
            - "Sync Clerk users to Supabase"
            - "Validate tokens in API routes"
            - "Update user metadata on events"
            - "Batch user operations"
    
      tools:
        - "clerk_users_list"
        - "clerk_user_get"
        - "clerk_user_create"
        - "clerk_user_update"
        - "clerk_oauth_providers"
        - "clerk_session_validate"
        - "clerk_tokens_validate"
    
      tools_count: 7
      categories: ["users", "oauth", "sessions"]
    
      rate_limit:
        free_tier: "20,000/month"
        pro_tier: "unlimited"
        per_tool:
          users_list: "100/min"
          user_get: "100/min"
          user_create: "20/min"
          user_update: "20/min"
          session_validate: "100/min"
          tokens_validate: "100/min"
          oauth_providers: "10/min"
    
      multi_tenant: true
      required: true
    
      integration:
        google_oauth: true
        supabase_sync: true
        localization: "es-CL"
    
      notes: |
        Clerk MCP Tools para autenticaciÃ³n y gestiÃ³n de usuarios.
      
        Flujo completo:
        1. Usuario â†’ Google OAuth en Clerk
        2. director-gemini â†’ orchestrates onboarding
        3. executor-codex â†’ syncs to Supabase (users, tenants tables)
        4. Shopify gate: products visible only if shopify_connected=true
      
        7 herramientas:
        - Users CRUD (list, get, create, update)
        - OAuth providers (list, configure)
        - Sessions (validate JWT, validate access tokens)
      
        LocalizaciÃ³n: EspaÃ±ol (Chile) - es-CL
        OAuth: Google Sign-In con scopes openid, profile, email
      
        Aplicaciones:
        - fulldaygo.smarterbot.cl (producciÃ³n)
        - demo.smarterbot.cl (demo aislado)
  
  smartermcp:
    tier: 1
    category: "core"
    primary_agent: "executor-codex"
    secondary_agents: ["director-gemini", "writer-copilot"]
    
    mcp_server:
      name: "smartermcp"
      package: "@smartercl/mcp-server"
      repository: "https://github.com/SmarterCL/smartermcp-server"
      deployment: "self-hosted"
      endpoint: "https://mcp.smarterbot.cl"
      connection: "mcp-remote"
    
    auth:
      method: "api-token"
      vault_path: "smarteros/mcp/smartermcp"
      keys: ["api_token", "tenant_id", "endpoint"]
      vault_policy: "mcp-smartermcp-read"
    
    capabilities:
      codex:
        services: ["list", "health", "deploy", "restart", "logs"]
        workflows: ["list", "trigger", "status", "create"]
        infrastructure: ["status", "metrics", "containers_list", "containers_restart"]
        use_cases:
          - "Deploy and manage services"
          - "Trigger backup workflows"
          - "Monitor infrastructure"
          - "Restart failed containers"
      
      gemini:
        analytics: ["kpis", "dashboards", "reports"]
        crm: ["contacts_list", "contacts_search", "opportunities_list", "pipeline_status"]
        support: ["conversations_list", "conversations_search", "agents_status", "metrics"]
        bots: ["list", "conversations", "analytics"]
        use_cases:
          - "Strategic planning from KPIs"
          - "Customer insights from CRM/support"
          - "Sales pipeline analysis"
          - "Bot performance monitoring"
      
      copilot:
        documentation: ["services", "apis", "schemas"]
        code_generation: ["n8n_workflow", "botpress_skill", "api_client"]
        use_cases:
          - "Generate N8N workflows"
          - "Create Botpress skills"
          - "Scaffold API integrations"
    
    tools_count: 35
    categories: ["services", "workflows", "analytics", "crm", "support", "bots", "infrastructure", "documentation", "code_generation"]
    
    rate_limit: "100/minute"
    multi_tenant: true
    required: true
    
    notes: |
      SmarterMCP es el MCP server oficial de SmarterOS que expone
      todos los servicios del sistema (N8N, Supabase, Odoo, Chatwoot,
      Botpress, Metabase) a travÃ©s de una interfaz unificada.
      
      35 tools organizados en 9 categorÃ­as:
      - Services management (5 tools)
      - N8N workflows (4 tools)
      - Analytics/Metabase (3 tools)
      - CRM/Odoo (4 tools)
      - Support/Chatwoot (4 tools)
      - Bots/Botpress (3 tools)
      - Infrastructure (4 tools)
      - Documentation (3 tools)
      - Code generation (3 tools)
      
      Multi-tenant nativo con tenant_id en API token.
      SDKs disponibles en TypeScript y Python.
  
  docker:
    tier: 1
    category: "core"
    primary_agent: "executor-codex"
    
    auth:
      method: "socket"
      path: "/var/run/docker.sock"
    
    capabilities:
      codex: ["build", "compose", "ps", "logs"]
    
    rate_limit: "unlimited"
    fallback: "alert"
  
  hostinger:
    tier: 1
    category: "core"
    primary_agent: "executor-codex"
    secondary_agents: ["director-gemini"]
    
    auth:
      method: "bearer-token"
      vault_path: "smarteros/mcp/hostinger"
      keys: ["api_token", "endpoint"]
      vault_policy: "mcp-hostinger-read"
    
    mcp_server:
      name: "hostinger-api-mcp"
      npm_package: "hostinger-api-mcp"
      repository: "https://github.com/hostinger/api-mcp-server"
    
    capabilities:
      codex:
        # VPS Lifecycle
        vps_lifecycle: 
          - "VPS_getVirtualMachinesV1"
          - "VPS_startVirtualMachineV1"
          - "VPS_stopVirtualMachineV1"
          - "VPS_rebootVirtualMachineV1"
        
        # SSH Keys Management via API
        ssh_keys_api:
          - "VPS_createPublicKeyV1"
          - "VPS_attachPublicKeyV1"
          - "VPS_getAttachedPublicKeysV1"
        
        # Firewall & Backups
        firewall: ["VPS_activateFirewallV1", "VPS_deactivateFirewallV1"]
        backups: ["VPS_createBackupV1", "VPS_restoreBackupV1"]
        
        # Docker & Network
        docker: ["VPS_getProjectsV1", "VPS_updateProjectV1"]
        network: ["VPS_setNameserversV1"]
      
      gemini:
        domains: 
          - "domains_checkDomainAvailabilityV1"
          - "domains_enablePrivacyProtectionV1"
          - "domains_createDomainForwardingV1"
        billing: ["billing_getPaymentMethodsV1"]
        read_only: true
    
    connection_test: "VPS_getVirtualMachinesV1"
    required: true
    
    notes: |
      Hostinger API MCP complementa el acceso SSH directo (smarteros/ssh/deploy).
      
      Use API MCP para: management operations (VPS lifecycle, SSH keys, domains)
      Use SSH directo para: deploy operations (rsync, systemctl, logs)
  
  supabase:
    tier: 1
    category: "core"
    primary_agent: "director-gemini"
    secondary_agents: ["writer-copilot"]
    
    auth:
      method: "vault"
      path: "smarteros/mcp/supabase"
      keys: ["url", "anon_key", "service_role_key"]
      vault_policy: "mcp-supabase-read"
    
    capabilities:
      gemini:
        read: ["users", "auth_logs", "rls_policies", "schema"]
        write: []
        query: true
      copilot:
        read: ["schema", "types", "edge_functions", "migrations"]
        write: []
        generate_types: true
    
    rate_limit:
      limit: "1000/minute"
      burst: 50
      per_agent: true
    
    fallback: "cached_schema"
    cache_ttl: "5m"
    health_check:
      endpoint: "${SUPABASE_URL}/rest/v1/"
      interval: "2m"
  
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  # TIER 2: Business Logic
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  
  shopify:
    tier: 2
    category: "business"
    primary_agent: "director-gemini"
    secondary_agents: ["writer-copilot"]
    
    auth:
      method: "vault"
      path: "smarteros/mcp/shopify"
      keys: ["api_key", "api_secret", "shop_url", "access_token"]
      vault_policy: "mcp-shopify-gemini-read"
    
    capabilities:
      gemini:
        read: ["orders", "products", "customers", "inventory", "analytics"]
        write: []
        graphql: true
      copilot:
        read: ["api_schema", "graphql_schema", "types"]
        write: []
    
    rate_limit:
      limit: "2/second"
      burst: 10
      bucket_size: 40
    
    fallback: "cached_data"
    cache_ttl: "15m"
    health_check:
      endpoint: "https://${SHOP_URL}/admin/api/2024-10/shop.json"
      interval: "10m"
  
  metabase:
    tier: 2
    category: "business"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/metabase"
      keys: ["url", "username", "password"]
    
    capabilities:
      gemini: ["query_dashboards", "query_metrics", "read_kpis"]
    
    rate_limit: "100/minute"
    fallback: "skip_analytics"
  
  odoo:
    tier: 2
    category: "business"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/odoo"
      keys: ["url", "db", "username", "api_key"]
    
    capabilities:
      gemini: ["read_crm", "read_invoices", "read_inventory"]
    
    rate_limit: "60/minute"
    fallback: "skip_erp_data"
  
  n8n:
    tier: 2
    category: "business"
    primary_agent: "director-gemini"
    secondary_agents: ["executor-codex"]
    
    auth:
      method: "vault"
      path: "smarteros/mcp/n8n"
      keys: ["url", "api_key"]
    
    capabilities:
      gemini: ["read_workflows", "read_executions"]
      codex: ["trigger_workflow"]
    
    rate_limit: "100/minute"
    fallback: "skip_workflow_triggers"
  
  stripe:
    tier: 2
    category: "business"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/stripe"
      keys: ["api_key", "webhook_secret"]
    
    capabilities:
      gemini: ["read_customers", "read_subscriptions", "read_invoices"]
    
    rate_limit: "100/second"
    fallback: "cached_data"
  
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  # TIER 3: AI/ML
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  
  openai:
    tier: 3
    category: "ai"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/openai"
      keys: ["api_key"]
    
    capabilities:
      gemini: ["embeddings", "classification", "analysis"]
    
    rate_limit: "3500/minute"
    cost_limit: "10 USD/day"
    fallback: "anthropic"
  
  anthropic:
    tier: 3
    category: "ai"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/anthropic"
      keys: ["api_key"]
    
    capabilities:
      gemini: ["analysis", "reasoning", "validation"]
    
    rate_limit: "50/minute"
    cost_limit: "10 USD/day"
    fallback: "openai"
  
  google:
    tier: 3
    category: "ai"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/google"
      keys: ["api_key"]
    
    capabilities:
      gemini: ["gemini_api", "vertex_ai"]
    
    rate_limit: "60/minute"
    fallback: "self (as primary model)"
  
  context7:
    tier: 3
    category: "ai"
    primary_agent: "writer-copilot"
    
    auth:
      method: "public"
    
    capabilities:
      copilot: ["docs_nextjs", "docs_react", "docs_tailwind", "docs_supabase"]
    
    rate_limit: "100/minute"
    fallback: "local_docs_cache"
  
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  # TIER 4: Communication
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  
  slack:
    tier: 4
    category: "communication"
    primary_agent: "director-gemini"
    secondary_agents: ["executor-codex"]
    
    auth:
      method: "vault"
      path: "smarteros/mcp/slack"
      keys: ["bot_token", "webhook_url"]
    
    capabilities:
      gemini: ["read_messages", "send_notifications", "create_issues_from_messages"]
      codex: ["send_deployment_notifications"]
    
    rate_limit: "1/second"
    fallback: "email"
  
  twilio:
    tier: 4
    category: "communication"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/twilio"
      keys: ["account_sid", "auth_token", "phone_number"]
    
    capabilities:
      gemini: ["send_sms", "read_sms_logs"]
    
    rate_limit: "100/minute"
    fallback: "skip_sms"
  
  whatsapp:
    tier: 4
    category: "communication"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/whatsapp"
      keys: ["api_key", "phone_number_id"]
    
    capabilities:
      gemini: ["send_messages", "read_messages", "analyze_conversations"]
    
    rate_limit: "80/minute"
    fallback: "skip_whatsapp"
  
  mailgun:
    tier: 4
    category: "communication"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/mailgun"
      keys: ["api_key", "domain"]
    
    capabilities:
      gemini: ["send_email", "read_logs"]
    
    rate_limit: "100/minute"
    fallback: "skip_email"
  
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  # TIER 5: DevOps/Infrastructure
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  
  cloudflare:
    tier: 5
    category: "devops"
    primary_agent: "executor-codex"
    secondary_agents: ["director-gemini"]
    
    mcp_server:
      name: "cloudflare-dns-analytics"
      repository: "https://github.com/cloudflare/mcp-server-cloudflare"
      app: "dns-analytics"
      deployment: "remote"
      endpoint: "https://dns-analytics.mcp.cloudflare.com/mcp"
      connection: "mcp-remote"
    
    auth:
      method: "api-token"
      vault_path: "smarteros/mcp/cloudflare"
      keys: ["api_token", "email", "zone_id"]
      vault_policy: "mcp-cloudflare-dns-read"
      
      setup: |
        1. Create API Token at Cloudflare Dashboard with Zone:DNS:Edit
        2. Store in Vault: vault kv put smarteros/mcp/cloudflare api_token=xxx email=xxx zone_id=xxx
        3. Apply policy: vault policy write mcp-cloudflare-dns-read vault/policies/mcp-cloudflare-dns-read.hcl
    
    capabilities:
      codex:
        dns_management:
          - "zones_list"
          - "dns_records_list"
          - "dns_records_create"
          - "dns_records_update"
          - "dns_records_delete"
        
        use_cases:
          - "Create subdomains for new services (mkt, call, fulldaygo)"
          - "Update DNS during deployments"
          - "DNS migration automation"
      
      gemini:
        dns_analytics:
          - "dns_analytics_report"
          - "dns_settings_get"
          - "dns_optimization_suggest"
        
        read_only: true
        use_cases:
          - "DNS health analysis"
          - "Traffic pattern analysis"
          - "Optimization recommendations"
    
    rate_limit: "1200/5min"
    fallback: "manual_dns"
    
    tools_count: 9
    connection_test: "zones_list"
    required: false
    
    notes: |
      Cloudflare MCP Server oficial con soporte para DNS management y analytics.
      
      Ventajas:
      - Interfaz conversacional natural para AI agents
      - ValidaciÃ³n automÃ¡tica de parÃ¡metros
      - Optimizaciones y sugerencias built-in
      - Remote MCP via mcp-remote
      
      Use API token mode (not OAuth) para automation.
      Configurar en Claude Desktop / Cline / Copilot via mcp-remote.
  
  vercel:
    tier: 5
    category: "devops"
    primary_agent: "executor-codex"
    secondary_agents: ["director-gemini"]
    
    mcp_server:
      name: "mcp-on-vercel"
      npm_package: "mcp-handler"
      repository: "https://github.com/vercel-labs/mcp-on-vercel"
      deployment: "vercel-functions"
      template: "https://vercel.com/templates/other/model-context-protocol-mcp-with-vercel-functions"
      connection: "mcp-remote"
    
    auth:
      method: "api-token"
      vault_path: "smarteros/mcp/vercel"
      keys: ["vercel_token", "vercel_team_id", "vercel_project_id"]
      vault_policy: "mcp-vercel-read"
    
    capabilities:
      codex:
        deployment: ["deploy_mcp_server", "update_env_vars", "check_status", "view_logs"]
        management: ["list_projects", "create_project", "delete_deployment"]
        
        use_cases:
          - "Deploy custom MCP wrappers (Clerk, Shopify, Supabase)"
          - "Manage environment variables"
          - "Monitor serverless functions"
      
      gemini:
        monitoring: ["view_analytics", "check_performance", "analyze_errors"]
        
        use_cases:
          - "Performance optimization"
          - "Cost analysis"
          - "Error pattern detection"
    
    rate_limit: "1000/minute"
    tools_count: 10
    fallback: "manual_deploy"
    
    notes: |
      Vercel MCP Server para deployar MCP servers como Vercel Functions.
      Template oficial con mcp-handler y StreamableHTTP transport.
      
      Use cases:
      - Deploy Clerk auth wrapper
      - Deploy Shopify product wrapper
      - Deploy Supabase query wrapper
      
      Fluid Compute required para max_duration > 10s
  
  aws:
    tier: 5
    category: "devops"
    primary_agent: "executor-codex"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/aws"
      keys: ["access_key_id", "secret_access_key", "region"]
    
    capabilities:
      codex: ["s3_upload", "cloudfront_invalidate"]
    
    rate_limit: "100/second"
    fallback: "skip_cdn"
  
  caddy:
    tier: 5
    category: "devops"
    primary_agent: "executor-codex"
    
    auth:
      method: "ssh"
      via: "hostinger"
    
    capabilities:
      codex: ["reload_config", "read_logs"]
    
    rate_limit: "unlimited"
    required: true
  
  linear:
    tier: 5
    category: "devops"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/linear"
      keys: ["api_key"]
    
    capabilities:
      gemini: ["read_issues", "create_issues", "update_status"]
    
    rate_limit: "100/minute"
    fallback: "github_issues"
  
  notion:
    tier: 5
    category: "devops"
    primary_agent: "director-gemini"
    
    auth:
      method: "vault"
      path: "smarteros/mcp/notion"
      keys: ["api_key", "database_id"]
    
    capabilities:
      gemini: ["read_roadmap", "update_docs"]
    
    rate_limit: "3/second"
    fallback: "skip_notion"
  
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  # TIER 6: Marketing & Call Center
  # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  
  blogbowl-filesystem:
    tier: 6
    category: "marketing"
    primary_agent: "writer-copilot"
    secondary_agents: ["director-gemini"]
    
    auth:
      method: "filesystem"
      root_path: "front/mkt.smarterbot.cl"
    
    capabilities:
      copilot: ["read_content", "list_posts", "update_markdown"]
      gemini: ["read_analytics"]
    
    rate_limit: "unlimited"
    notes: |
      MCP Filesystem para gestiÃ³n de contenido de BlogBowl en mkt.smarterbot.cl
  
  callcenter-conversation:
    tier: 6
    category: "call-center"
    primary_agent: "director-gemini"
    secondary_agents: ["executor-codex"]
    
    auth:
      method: "api-key"
      vault_path: "smarteros/mcp/callcenter"
      keys: ["api_key", "endpoint"]
    
    capabilities:
      gemini: ["read_transcripts", "analyze_sentiment", "generate_summary"]
      codex: ["trigger_calls", "update_status"]
    
    rate_limit: "100/minute"
    notes: |
      MCP para integraciÃ³n con Microsoft Call Center AI en call.smarterbot.cl
  
  callcenter-speech:
    tier: 6
    category: "call-center"
    primary_agent: "director-gemini"
    
    auth:
      method: "azure-token"
      vault_path: "smarteros/mcp/azure-speech"
      keys: ["subscription_key", "region"]
    
    capabilities:
      gemini: ["speech_to_text", "text_to_speech", "analyze_audio"]
    
    rate_limit: "20/second"
    cost_limit: "5 USD/day"
    notes: |
      Azure Speech Services para el motor de call center

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Agent Access Matrix
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

access_matrix:
  director-gemini:
    tier_1: ["github", "vault", "clerk", "smartermcp", "supabase"]
    tier_2: ["shopify", "metabase", "odoo", "n8n", "stripe"]
    tier_3: ["openai", "anthropic", "google"]
    tier_4: ["slack", "twilio", "whatsapp", "mailgun"]
    tier_5: ["cloudflare", "vercel", "linear", "notion"]
    tier_6: ["blogbowl-filesystem", "callcenter-conversation", "callcenter-speech"]
    total: 21
  
  writer-copilot:
    tier_1: ["github", "vault", "clerk", "smartermcp", "supabase"]
    tier_3: ["context7"]
    tier_6: ["blogbowl-filesystem"]
    total: 7
  
  executor-codex:
    tier_1: ["github", "vault", "clerk", "smartermcp", "docker", "hostinger"]
    tier_2: ["n8n"]
    tier_4: ["slack"]
    tier_5: ["cloudflare", "vercel", "aws", "caddy"]
    tier_6: ["callcenter-conversation"]
    total: 13

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Health & Monitoring
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

health_checks:
  interval: "5m"
  
  checks:
    - provider: "vault"
      command: "vault status"
      expect: "unsealed"
      critical: true
    
    - provider: "github"
      command: "gh api /rate_limit"
      expect: "remaining > 100"
      critical: false
    
    - provider: "hostinger"
      command: "ssh smarteros 'echo ok'"
      expect: "ok"
      critical: true
    
    - provider: "supabase"
      command: "curl -f $SUPABASE_URL/rest/v1/"
      expect: "200"
      critical: true
  
  on_failure:
    - notify: "slack"
    - fallback: "use_cached_data"
    - retry: "3x exponential"

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Usage Patterns
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

patterns:
  gemini_strategic_planning:
    reads:
      - "github: issues with label:auto"
      - "supabase: user count, active features"
      - "shopify: order trends, revenue"
      - "metabase: KPI dashboards"
      - "slack: recent errors from #alerts"
    
    decides: "Which tasks to prioritize and delegate"
  
  copilot_code_generation:
    reads:
      - "github: current codebase"
      - "context7: framework docs"
      - "supabase: database schema"
    
    writes: "Code patches to /tmp/smarteros/patches/"
  
  codex_execution:
    reads:
      - "vault: SSH keys, tokens"
      - "docker: current containers"
    
    executes:
      - "Apply patches"
      - "Build apps"
      - "Sync to VPS"
      - "Restart services"
    
    notifies:
      - "slack: deployment status"
      - "github: PR comments"

notes: |
  Este registry define todos los MCP providers disponibles y
  cÃ³mo se asignan a los tres agentes del sistema.
  
  Tier 1 (core) debe estar siempre disponible.
  Tiers 2-5 tienen fallbacks si no estÃ¡n disponibles.
  
  Actualizar cuando:
  - Se agregue un nuevo MCP provider
  - Cambien los lÃ­mites de rate (basado en uso real)
  - Se optimicen patrones de acceso
